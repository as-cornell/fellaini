
{# 

/* -------------------------

Title: node--page.html.twig
Descr: Sets up variables and content for _basic-page.twig
Passes: has-aside to <main>
        has-sidebar to contentWrapper

--------------------------- */ 

#}
{# {{ kint(content) }} #}

{# Add aside if aside components are present #}
{% if content.field_aside_components|render is not empty %}
    {% set main_content_modifiers = ['has-aside'] %}
    {% set aside = true %}
{% endif %}

{# Set sidebar_nav #}
{% set sidebar_nav %}
    {{ drupal_entity('block', 'mainnavigation_2',  check_access=false) }}
{% endset %}
{% set sidebarNav = true %}



{# set sidebar  #}
{% set sidebarType = node.field_sidebar_type.value %}

{% if sidebarType != 'none' %}

    {% set content_wrapper_modifiers = ['has-sidebar'] %}
    {% set sidebar = true %}
    {% set sidebar_content %}
        {{ content.field_sidebar_components }}
    {% endset %}
 {% endif %}


{% include "@pages/basic-page/_basic-page.twig" with {
    title : label,

    sidebar: sidebar,
    aside: aside,
    
    main_content : content.field_page_components_entity,
    aside_content : content.field_aside_components,
    sidebar_content : sidebar_content,

    content_wrapper_modifiers : content_wrapper_modifiers,
    main_content_modifiers : main_content_modifiers
    
    }
%}