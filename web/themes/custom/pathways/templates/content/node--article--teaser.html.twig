{#

/* -------------------------

Title: node--article--teaser.html.twig
Descr: sets up variable to pass to _teaser.twig
--- nodeType
--- teaser_modifiers
--- teaser_summary
--- teaser_chopped_body
--- thumbnail image
--- dateline
--- media source
--- byline

Setting up new block class of 'teaser' 

--------------------------- */

#}

{# {{vardumper(content.field_article_components_entity.0['#page_component_entity'])}} #}
{# {{content.field_media_source}} #}
{# {{content.field_media_source_reference}}
{{content.field_byline_reference}} #}
{# {{content.field_summary}} #}
{% set nodeType = 'article' %}
{% set teaser_modifiers = [''] %}

{% set teaser_modifiers = teaser_modifiers|merge([nodeType]) %}
{% set teaser_summary = content.field_summary %}
{% set teaser_chopped_body = (content.field_article_components_entity|field_target_entity.field_formatted_text.value |striptags|truncate(400, true)) %}

{# {{teaser_chopped_body}} #}
{% if content.field_summary|render is not empty %}
	{% set teaser_body = teaser_summary %}
{% else %}
	{% set teaser_body = teaser_chopped_body %}
{% endif %}

{# {{teaser_body }} #}

{% embed "@molecules/content/teaser/_teaser.twig" with {
  teaser_title: label,
  teaser_body: content.body,
  teaser_link_url: url,
  teaser_img: content.field_thumbnail_image,
  teaser_dateline: content.field_dateline,
  teaser_media_source : content.field_media_source_reference,
  teaser_byline : content.field_byline_reference,
  teaser_body : teaser_body
} %}

{% endembed %}
