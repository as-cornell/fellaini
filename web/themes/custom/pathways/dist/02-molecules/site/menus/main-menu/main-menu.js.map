{"version":3,"sources":["02-molecules/site/menus/main-menu/main-menu.js"],"names":["$","location","pathname","split","addClass","prev","attr","on","click","toggleClass","_this","parent","linkContent","next","console","log","hasClass","removeClass","find","removeAttr","jQuery"],"mappings":"aAAA;AACA,CAAC,SAAUA,CAAV,CAAa,CACZ;AAOA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAKA;AACA;AAQA;AA/BAA,CAAC,CAAC,UAAY,CACZA,CAAC,CAAC,kBAAmBC,QAAQ,CAACC,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAnB,CAAqD,KAAtD,CAAD,CAA6DC,QAA7D,CACE,QADF,CAGD,CAJA,CAFW,CAoBZJ,CAAC,CAAC,kBAAD,CAAD,CAAsBK,IAAtB,GAA6BC,IAA7B,CAAkC,eAAlC,CAAmD,MAAnD,CApBY,CAsBZN,CAAC,CAAC,WAAD,CAAD,CAAeM,IAAf,CAAoB,UAApB,CAAgC,CAAC,CAAjC,CAtBY,CA2BZN,CAAC,CAAC,cAAD,CAAD,CAAkBO,EAAlB,CAAqB,CACnBC,KAAK,CAAE,gBAAY,CACjBR,CAAC,CAAC,UAAD,CAAD,CAAcS,WAAd,CAA0B,MAA1B,CACD,CAHkB,CAArB,CA3BY,CAkCZT,CAAC,CAAC,wBAAD,CAAD,CAA4BQ,KAA5B,CAAkC,UAAa,IACzCE,CAAAA,CAAK,CAAGV,CAAC,CAAC,IAAD,CADgC,CAEzCW,CAAM,CAAGX,CAAC,CAACU,CAAK,CAACC,MAAN,EAAD,CAF+B,CAGzCC,CAAW,CAAGZ,CAAC,CAACU,CAAK,CAACL,IAAN,EAAD,CAH0B,CAKzCQ,CAAI,CAAGb,CAAC,CAACU,CAAK,CAACG,IAAN,EAAD,CALiC,CAO7CC,OAAO,CAACC,GAAR,CAAYH,CAAZ,CAP6C,CASxCC,CAAI,CAACG,QAAL,CAAc,kBAAd,CATwC,EAgB3ChB,CAAC,CAACa,CAAD,CAAD,CAAQI,WAAR,CAAoB,kBAApB,CAhB2C,CAiB3CjB,CAAC,CAACW,CAAD,CAAD,CAAUM,WAAV,CAAsB,sBAAtB,CAjB2C,CAkB3CP,CAAK,CAACL,IAAN,GAAaa,IAAb,CAAkB,GAAlB,EAAuBZ,IAAvB,CAA4B,UAA5B,CAAwC,CAAC,CAAzC,CAlB2C,GAU3CN,CAAC,CAACa,CAAD,CAAD,CAAQT,QAAR,CAAiB,kBAAjB,CAV2C,CAW3CJ,CAAC,CAACW,CAAD,CAAD,CAAUP,QAAV,CAAmB,sBAAnB,CAX2C,CAY3CM,CAAK,CAACL,IAAN,GAAaa,IAAb,CAAkB,GAAlB,EAAuBC,UAAvB,CAAkC,UAAlC,CAA8C,CAAC,CAA/C,CAZ2C,CAyD9C,CAzDD,CA0DD,CA5FD,EA4FGC,MA5FH,C","sourcesContent":["// document is ready to go... or is it\n(function ($) {\n  // add active class to current item\n  $(function () {\n    $('nav a[href^=\"/' + location.pathname.split(\"/\")[1] + '\"]').addClass(\n      \"active\"\n    );\n  });\n\n  // console.log( \"Let's do this!\"  );\n\n  // close the menu--secondary\n  // $('.menu--secondary a').attr('tabindex', -1);\n  // $('.menu--secondary').addClass('close');\n  // $(\".menu--secondary\").before(\"<button class='menu-toggle' aria-hidden='false' aria-label='menu--secondary is closed'><svg viewBox='0 0 20 20' class='icon--arrow'> <use xlink:href='#shape-icon-down-arrow'></use > </svg ><span class='sr-only'>Show nested menu</span></button>\");\n\n  //\n  // need to make this toggle want to control visibility with aria hiddens\n  //\n\n  // Add aria-haspopup true to links with popups\n  $(\".mainNav__toggle\").prev().attr(\"aria-haspopup\", \"true\");\n\n  $(\".subNav a\").attr(\"tabindex\", -1);\n\n  // var linkText = $('.expand-sub').prev().text();\n  // // console.log(linkText);\n\n  $(\"#toggle-menu\").on({\n    click: function () {\n      $(\".mainNav\").toggleClass(\"show\");\n    },\n  });\n\n  // if a menu-button is clicked...\n  $(\".mainNav__subNavToggle\").click(function (e) {\n    var _this = $(this);\n    var parent = $(_this.parent());\n    var linkContent = $(_this.prev());\n\n    var next = $(_this.next());\n\n    console.log(linkContent);\n\n    if (!next.hasClass(\"subNav--expanded\")) {\n      $(next).addClass(\"subNav--expanded\");\n      $(parent).addClass(\"withSubNav--expanded\");\n      _this.prev().find(\"a\").removeAttr(\"tabindex\", -1);\n\n      // remove sub-expaneded\n    } else {\n      $(next).removeClass(\"subNav--expanded\");\n      $(parent).removeClass(\"withSubNav--expanded\");\n      _this.prev().find(\"a\").attr(\"tabindex\", -1);\n    }\n\n    // $('.subNav__link').focus(function(){\n    //   $(this).addClass('sub-expanded');\n    //   console.log('hiya');\n    // });\n\n    // // if the menu--secondary is hidden....\n    // if (!_this.next().hasClass('display')) {\n\n    //   // reset menu--secondary + button arrow to start\n    //   $('.menu--secondary').removeClass('display');\n    //   $('.menu--secondary a').attr('tabindex', -1);\n    //   $('.fa').addClass('fa-angle-down');\n    //   $('.fa').removeClass('fa-angle-up');\n    //   $('.expand-sub').attr('aria-label', 'menu--secondary is closed');\n\n    //   // open menu\n    //  // _this.next().addClass('display');\n    //   // _this.prev().removeAttr('aria-expanded');\n    //   _this.prev().attr('aria-expanded', 'true');\n    //   //_this.next().find('a').removeAttr('tabindex', -1);\n    //   //_this.children().removeClass('fa-angle-down');\n    //  // _this.children().addClass('fa-angle-up');\n    //   //_this.attr('aria-label', 'menu--secondary is open');\n\n    //   // if the menu is open then...\n    // } else {\n\n    //   // close the menu...\n    //  // _this.next().removeClass('display');\n    //   _this.prev().attr('aria-expanded', 'false');\n    //  // _this.next().find('a').attr('tabindex', -1);\n    //  // _this.children().removeClass('fa-angle-up');\n    //  // _this.children().addClass('fa-angle-down');\n    // //  _this.attr('aria-label', 'menu--secondary is closed');\n\n    // }\n  });\n})(jQuery);\n\n// /**\n//  * @file\n//  * A JavaScript file containing the main menu functionality (small/large screen)\n//  *\n//  */\n\n// // JavaScript should be made compatible with libraries other than jQuery by\n// // wrapping it with an \"anonymous closure\". See:\n// // - https://drupal.org/node/1446420\n// // - http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth\n\n// // (function (Drupal) { // UNCOMMENT IF DRUPAL.\n// //\n// //   Drupal.behaviors.mainMenu = {\n// //     attach: function (context) {\n\n// (function () { // REMOVE IF DRUPAL.\n\n//   'use strict';\n\n//   // Use context instead of document IF DRUPAL.\n//   var toggle_expand = document.getElementById('toggle-expand');\n//   var menu = document.getElementById('main-nav');\n//   var expand_menu = menu.getElementsByClassName('expand-sub');\n\n//   // Mobile Menu Show/Hide.\n//   toggle_expand.addEventListener('click', function (e) {\n//     toggle_expand.classList.toggle('toggle-expand--open');\n//     menu.classList.toggle('main-nav--open');\n//   });\n\n//   // Expose mobile sub menu on click.\n//   for (var i = 0; i < expand_menu.length; i++) {\n//     expand_menu[i].addEventListener('click', function (e) {\n//       var menu_item = e.currentTarget;\n//       var sub_menu = menu_item.nextElementSibling;\n\n//       menu_item.classList.toggle('expand-sub--open');\n//       sub_menu.classList.toggle('main-menu--sub-open');\n//     });\n//   }\n\n// })(); // REMOVE IF DRUPAL.\n\n// // })(Drupal); // UNCOMMENT IF DRUPAL.\n"],"file":"main-menu.js"}