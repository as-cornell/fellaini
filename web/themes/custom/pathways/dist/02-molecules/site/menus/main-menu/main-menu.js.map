{"version":3,"sources":["02-molecules/site/menus/main-menu/main-menu.js"],"names":["$","prev","attr","on","click","toggleClass","_this","parent","linkContent","next","console","log","hasClass","removeClass","find","addClass","removeAttr","jQuery"],"mappings":"aAAA;AACA,CAAC,SAAUA,CAAV,CAAa,CAEZ;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAKA;AACA;AAQA;AAbAA,CAAC,CAAC,kBAAD,CAAD,CAAsBC,IAAtB,GAA6BC,IAA7B,CAAkC,eAAlC,CAAmD,MAAnD,CAfY,CAiBZF,CAAC,CAAC,WAAD,CAAD,CAAeE,IAAf,CAAoB,UAApB,CAAgC,CAAC,CAAjC,CAjBY,CAsBZF,CAAC,CAAC,cAAD,CAAD,CAAkBG,EAAlB,CAAqB,CACnBC,KAAK,CAAE,gBAAY,CACjBJ,CAAC,CAAC,UAAD,CAAD,CAAcK,WAAd,CAA0B,MAA1B,CACD,CAHkB,CAArB,CAtBY,CA6BZL,CAAC,CAAC,wBAAD,CAAD,CAA4BI,KAA5B,CAAkC,UAAa,IAEzCE,CAAAA,CAAK,CAAGN,CAAC,CAAC,IAAD,CAFgC,CAGzCO,CAAM,CAAGP,CAAC,CAACM,CAAK,CAACC,MAAN,EAAD,CAH+B,CAIzCC,CAAW,CAAGR,CAAC,CAACM,CAAK,CAACL,IAAN,EAAD,CAJ0B,CAMzCQ,CAAI,CAAGT,CAAC,CAACM,CAAK,CAACG,IAAN,EAAD,CANiC,CAQ7CC,OAAO,CAACC,GAAR,CAAYH,CAAZ,CAR6C,CAUzCC,CAAI,CAACG,QAAL,CAAc,kBAAd,CAVyC,EAkB3CZ,CAAC,CAACS,CAAD,CAAD,CAAQI,WAAR,CAAoB,kBAApB,CAlB2C,CAmB3Cb,CAAC,CAACO,CAAD,CAAD,CAAUM,WAAV,CAAsB,sBAAtB,CAnB2C,CAoB3CP,CAAK,CAACL,IAAN,GAAaa,IAAb,CAAkB,GAAlB,EAAuBZ,IAAvB,CAA4B,UAA5B,CAAwC,CAAC,CAAzC,CApB2C,GAY3CF,CAAC,CAACS,CAAD,CAAD,CAAQM,QAAR,CAAiB,kBAAjB,CAZ2C,CAa3Cf,CAAC,CAACO,CAAD,CAAD,CAAUQ,QAAV,CAAmB,sBAAnB,CAb2C,CAc3CT,CAAK,CAACL,IAAN,GAAaa,IAAb,CAAkB,GAAlB,EAAuBE,UAAvB,CAAkC,UAAlC,CAA8C,CAAC,CAA/C,CAd2C,CAiE9C,CAjED,CAmED,CAhGD,EAgGGC,MAhGH,C","sourcesContent":["// document is ready to go...\n(function ($) {\n\n  // console.log( \"Let's do this!\"  );\n\n  // close the menu--secondary\n  // $('.menu--secondary a').attr('tabindex', -1);\n  // $('.menu--secondary').addClass('close');\n  // $(\".menu--secondary\").before(\"<button class='menu-toggle' aria-hidden='false' aria-label='menu--secondary is closed'><svg viewBox='0 0 20 20' class='icon--arrow'> <use xlink:href='#shape-icon-down-arrow'></use > </svg ><span class='sr-only'>Show nested menu</span></button>\");\n\n  //\n  // need to make this toggle want to control visibility with aria hiddens\n  //\n\n\n  // Add aria-haspopup true to links with popups\n  $('.mainNav__toggle').prev().attr('aria-haspopup', 'true');\n\n  $('.subNav a').attr('tabindex', -1);\n\n  // var linkText = $('.expand-sub').prev().text();\n  // // console.log(linkText);\n\n  $(\"#toggle-menu\").on({\n    click: function () {\n      $(\".mainNav\").toggleClass(\"show\");\n    }\n  });\n\n  // if a menu-button is clicked...\n  $('.mainNav__subNavToggle').click(function (e) {\n\n    var _this = $(this);\n    var parent = $(_this.parent());\n    var linkContent = $(_this.prev());\n\n    var next = $(_this.next());\n\n    console.log(linkContent);\n\n    if(!next.hasClass('subNav--expanded')){\n\n      $(next).addClass('subNav--expanded');\n      $(parent).addClass('withSubNav--expanded');\n      _this.prev().find('a').removeAttr('tabindex', -1);\n\n      // remove sub-expaneded\n    }else{\n      $(next).removeClass('subNav--expanded');\n      $(parent).removeClass('withSubNav--expanded');\n      _this.prev().find('a').attr('tabindex', -1);\n\n    }\n\n\n\n    // $('.subNav__link').focus(function(){\n    //   $(this).addClass('sub-expanded');\n    //   console.log('hiya');\n    // });\n\n\n\n    // // if the menu--secondary is hidden....\n    // if (!_this.next().hasClass('display')) {\n\n    //   // reset menu--secondary + button arrow to start\n    //   $('.menu--secondary').removeClass('display');\n    //   $('.menu--secondary a').attr('tabindex', -1);\n    //   $('.fa').addClass('fa-angle-down');\n    //   $('.fa').removeClass('fa-angle-up');\n    //   $('.expand-sub').attr('aria-label', 'menu--secondary is closed');\n\n    //   // open menu\n    //  // _this.next().addClass('display');\n    //   // _this.prev().removeAttr('aria-expanded');\n    //   _this.prev().attr('aria-expanded', 'true');\n    //   //_this.next().find('a').removeAttr('tabindex', -1);\n    //   //_this.children().removeClass('fa-angle-down');\n    //  // _this.children().addClass('fa-angle-up');\n    //   //_this.attr('aria-label', 'menu--secondary is open');\n\n    //   // if the menu is open then...   \n    // } else {\n\n    //   // close the menu...\n    //  // _this.next().removeClass('display');\n    //   _this.prev().attr('aria-expanded', 'false');\n    //  // _this.next().find('a').attr('tabindex', -1);\n    //  // _this.children().removeClass('fa-angle-up');\n    //  // _this.children().addClass('fa-angle-down');\n    // //  _this.attr('aria-label', 'menu--secondary is closed');\n\n    // }\n\n  });\n\n})(jQuery);\n\n\n\n\n\n\n\n// /**\n//  * @file\n//  * A JavaScript file containing the main menu functionality (small/large screen)\n//  *\n//  */\n\n// // JavaScript should be made compatible with libraries other than jQuery by\n// // wrapping it with an \"anonymous closure\". See:\n// // - https://drupal.org/node/1446420\n// // - http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth\n\n\n// // (function (Drupal) { // UNCOMMENT IF DRUPAL.\n// //\n// //   Drupal.behaviors.mainMenu = {\n// //     attach: function (context) {\n\n// (function () { // REMOVE IF DRUPAL.\n\n//   'use strict';\n\n//   // Use context instead of document IF DRUPAL.\n//   var toggle_expand = document.getElementById('toggle-expand');\n//   var menu = document.getElementById('main-nav');\n//   var expand_menu = menu.getElementsByClassName('expand-sub');\n\n//   // Mobile Menu Show/Hide.\n//   toggle_expand.addEventListener('click', function (e) {\n//     toggle_expand.classList.toggle('toggle-expand--open');\n//     menu.classList.toggle('main-nav--open');\n//   });\n\n//   // Expose mobile sub menu on click.\n//   for (var i = 0; i < expand_menu.length; i++) {\n//     expand_menu[i].addEventListener('click', function (e) {\n//       var menu_item = e.currentTarget;\n//       var sub_menu = menu_item.nextElementSibling;\n\n//       menu_item.classList.toggle('expand-sub--open');\n//       sub_menu.classList.toggle('main-menu--sub-open');\n//     });\n//   }\n\n// })(); // REMOVE IF DRUPAL.\n\n// // })(Drupal); // UNCOMMENT IF DRUPAL.\n"],"file":"main-menu.js"}