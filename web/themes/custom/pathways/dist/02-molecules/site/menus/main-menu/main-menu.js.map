{"version":3,"sources":["02-molecules/site/menus/main-menu/main-menu.js"],"names":["$","prev","attr","on","click","toggleClass","_this","parent","linkContent","console","log","hasClass","removeClass","next","find","addClass","removeAttr","jQuery","toggle_expand","document","getElementById","menu","expand_menu","getElementsByClassName","addEventListener","classList","toggle","i","length","e","menu_item","currentTarget","sub_menu","nextElementSibling"],"mappings":"aAAA;AAoGA;;;;IAMA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAlHA,CAAC,SAAUA,CAAV,CAAa,CAEZ;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAKA;AACA;AAQA;AAbAA,CAAC,CAAC,aAAD,CAAD,CAAiBC,IAAjB,GAAwBC,IAAxB,CAA6B,eAA7B,CAA8C,MAA9C,CAfY,CAiBZF,CAAC,CAAC,WAAD,CAAD,CAAeE,IAAf,CAAoB,UAApB,CAAgC,CAAC,CAAjC,CAjBY,CAsBZF,CAAC,CAAC,cAAD,CAAD,CAAkBG,EAAlB,CAAqB,CACnBC,KAAK,CAAE,gBAAY,CACjBJ,CAAC,CAAC,UAAD,CAAD,CAAcK,WAAd,CAA0B,MAA1B,CACD,CAHkB,CAArB,CAtBY,CA6BZL,CAAC,CAAC,aAAD,CAAD,CAAiBI,KAAjB,CAAuB,UAAa,IAE9BE,CAAAA,CAAK,CAAGN,CAAC,CAAC,IAAD,CAFqB,CAG9BO,CAAM,CAAGP,CAAC,CAACM,CAAK,CAACC,MAAN,EAAD,CAHoB,CAI9BC,CAAW,CAAGR,CAAC,CAACM,CAAK,CAACL,IAAN,EAAD,CAJe,CAKlCQ,OAAO,CAACC,GAAR,CAAYF,CAAZ,CALkC,CAO9BD,CAAM,CAACI,QAAP,CAAgB,cAAhB,CAP8B,EAchCX,CAAC,CAACO,CAAD,CAAD,CAAUK,WAAV,CAAsB,cAAtB,CAdgC,CAehCN,CAAK,CAACO,IAAN,GAAaC,IAAb,CAAkB,GAAlB,EAAuBZ,IAAvB,CAA4B,UAA5B,CAAwC,CAAC,CAAzC,CAfgC,GAShCF,CAAC,CAACO,CAAD,CAAD,CAAUQ,QAAV,CAAmB,cAAnB,CATgC,CAUhCT,CAAK,CAACO,IAAN,GAAaC,IAAb,CAAkB,GAAlB,EAAuBE,UAAvB,CAAkC,UAAlC,CAA8C,CAAC,CAA/C,CAVgC,CA4DnC,CA5DD,CA8DD,CA3FD,EA2FGC,MA3FH,C,CAoHC,UAAY,CAAE;AAEb,aAEA;AAJW,GAKPC,CAAAA,CAAa,CAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CALT,CAMPC,CAAI,CAAGF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CANA,CAOPE,CAAW,CAAGD,CAAI,CAACE,sBAAL,CAA4B,YAA5B,CAPP,CAUXL,CAAa,CAACM,gBAAd,CAA+B,OAA/B,CAAwC,UAAa,CACnDN,CAAa,CAACO,SAAd,CAAwBC,MAAxB,CAA+B,qBAA/B,CADmD,CAEnDL,CAAI,CAACI,SAAL,CAAeC,MAAf,CAAsB,gBAAtB,CACD,CAHD,CAVW,CAeX;AACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,CAAW,CAACM,MAAhC,CAAwCD,CAAC,EAAzC,CACEL,CAAW,CAACK,CAAD,CAAX,CAAeH,gBAAf,CAAgC,OAAhC,CAAyC,SAAUK,CAAV,CAAa,IAChDC,CAAAA,CAAS,CAAGD,CAAC,CAACE,aADkC,CAEhDC,CAAQ,CAAGF,CAAS,CAACG,kBAF2B,CAIpDH,CAAS,CAACL,SAAV,CAAoBC,MAApB,CAA2B,kBAA3B,CAJoD,CAKpDM,CAAQ,CAACP,SAAT,CAAmBC,MAAnB,CAA0B,qBAA1B,CACD,CAND,CASH,CA1BD,E","sourcesContent":["// document is ready to go...\n(function ($) {\n\n  // console.log( \"Let's do this!\"  );\n\n  // close the menu--secondary\n  // $('.menu--secondary a').attr('tabindex', -1);\n  // $('.menu--secondary').addClass('close');\n  // $(\".menu--secondary\").before(\"<button class='menu-toggle' aria-hidden='false' aria-label='menu--secondary is closed'><svg viewBox='0 0 20 20' class='icon--arrow'> <use xlink:href='#shape-icon-down-arrow'></use > </svg ><span class='sr-only'>Show nested menu</span></button>\");\n\n  //\n  // need to make this toggle want to control visibility with aria hiddens\n  //\n\n\n  // Add aria-haspopup true to links with popups\n  $('.expand-sub').prev().attr('aria-haspopup', 'true');\n\n  $('.subNav a').attr('tabindex', -1);\n\n  // var linkText = $('.expand-sub').prev().text();\n  // // console.log(linkText);\n\n  $(\"#toggle-menu\").on({\n    click: function () {\n      $(\".mainNav\").toggleClass(\"show\");\n    }\n  });\n\n  // if a menu-button is clicked...\n  $('.expand-sub').click(function (e) {\n\n    var _this = $(this);\n    var parent = $(_this.parent());\n    var linkContent = $(_this.prev());\n    console.log(linkContent);\n\n    if(!parent.hasClass('sub-expanded')){\n\n      $(parent).addClass('sub-expanded');\n      _this.next().find('a').removeAttr('tabindex', -1);\n\n      // remove sub-expaneded\n    }else{\n      $(parent).removeClass('sub-expanded');\n      _this.next().find('a').attr('tabindex', -1);\n\n    }\n\n\n\n    // $('.subNav__link').focus(function(){\n    //   $(this).addClass('sub-expanded');\n    //   console.log('hiya');\n    // });\n\n\n\n    // // if the menu--secondary is hidden....\n    // if (!_this.next().hasClass('display')) {\n\n    //   // reset menu--secondary + button arrow to start\n    //   $('.menu--secondary').removeClass('display');\n    //   $('.menu--secondary a').attr('tabindex', -1);\n    //   $('.fa').addClass('fa-angle-down');\n    //   $('.fa').removeClass('fa-angle-up');\n    //   $('.expand-sub').attr('aria-label', 'menu--secondary is closed');\n\n    //   // open menu\n    //  // _this.next().addClass('display');\n    //   // _this.prev().removeAttr('aria-expanded');\n    //   _this.prev().attr('aria-expanded', 'true');\n    //   //_this.next().find('a').removeAttr('tabindex', -1);\n    //   //_this.children().removeClass('fa-angle-down');\n    //  // _this.children().addClass('fa-angle-up');\n    //   //_this.attr('aria-label', 'menu--secondary is open');\n\n    //   // if the menu is open then...   \n    // } else {\n\n    //   // close the menu...\n    //  // _this.next().removeClass('display');\n    //   _this.prev().attr('aria-expanded', 'false');\n    //  // _this.next().find('a').attr('tabindex', -1);\n    //  // _this.children().removeClass('fa-angle-up');\n    //  // _this.children().addClass('fa-angle-down');\n    // //  _this.attr('aria-label', 'menu--secondary is closed');\n\n    // }\n\n  });\n\n})(jQuery);\n\n\n\n\n\n\n\n/**\n * @file\n * A JavaScript file containing the main menu functionality (small/large screen)\n *\n */\n\n// JavaScript should be made compatible with libraries other than jQuery by\n// wrapping it with an \"anonymous closure\". See:\n// - https://drupal.org/node/1446420\n// - http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth\n\n\n// (function (Drupal) { // UNCOMMENT IF DRUPAL.\n//\n//   Drupal.behaviors.mainMenu = {\n//     attach: function (context) {\n\n(function () { // REMOVE IF DRUPAL.\n\n  'use strict';\n\n  // Use context instead of document IF DRUPAL.\n  var toggle_expand = document.getElementById('toggle-expand');\n  var menu = document.getElementById('main-nav');\n  var expand_menu = menu.getElementsByClassName('expand-sub');\n\n  // Mobile Menu Show/Hide.\n  toggle_expand.addEventListener('click', function (e) {\n    toggle_expand.classList.toggle('toggle-expand--open');\n    menu.classList.toggle('main-nav--open');\n  });\n\n  // Expose mobile sub menu on click.\n  for (var i = 0; i < expand_menu.length; i++) {\n    expand_menu[i].addEventListener('click', function (e) {\n      var menu_item = e.currentTarget;\n      var sub_menu = menu_item.nextElementSibling;\n\n      menu_item.classList.toggle('expand-sub--open');\n      sub_menu.classList.toggle('main-menu--sub-open');\n    });\n  }\n\n})(); // REMOVE IF DRUPAL.\n\n// })(Drupal); // UNCOMMENT IF DRUPAL.\n"],"file":"main-menu.js"}